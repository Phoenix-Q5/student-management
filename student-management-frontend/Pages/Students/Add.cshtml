@page
@model StudentManagement.Pages.Students.AddModel
@{
    ViewData["Title"] = "Add Student";
}

<h1>Manage Students: Add New Student</h1>
<div>
    <a asp-page="./Index" style="text-decoration: none; color: blue;">&lt;&lt; Back to Manage Students</a>
</div>
<form method="post" style="max-width: 600px; margin: 0 auto;">
    <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" class="form-control" id="firstName" name="Student.FirstName"
            value="@Model.Student?.FirstName" required />
    </div>
    <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" class="form-control" id="lastName" name="Student.LastName" value="@Model.Student?.LastName"
            required />
    </div>
    <div class="form-group">
        <label for="school">School</label>
        <div style="display: flex; align-items: center;">
            <select class="form-control" id="school" name="Student.School" required>
                <option value="">Select a school</option>
                @foreach (var school in Model.Schools)
                {
                    if (Model.Student?.School == school)
                    {
                        <option value="@school" selected>@school</option>
                    }
                    else
                    {
                        <option value="@school">@school</option>
                    }
                }
            </select>
            <a asp-page="./AddSchool" class="btn btn-secondary">Add School</a>
        </div>
    </div>
    <div class="form-group">
        <label for="major">Major</label>
        <input type="text" class="form-control" id="major" name="Student.Major" value="@Model.Student?.Major"
            required />
    </div>
    <div class="form-group">
        <label for="active">Active</label>
        <input type="checkbox" id="active" name="Student.IsActive" value="true" @(Model.Student?.IsActive == true ?
            "checked" : "") />
    </div>

    <div class="form-group"
        style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px;">
        <button type="submit" class="btn btn-primary">Add Student</button>
        <a asp-page="./Index" class="btn btn-secondary">Cancel</a>
    </div>
</form>